@model IEnumerable<BookAndRent.Views.ViewModels.AvailableApartmentInfo>

@{
    ViewData["Title"] = "AvailableApartments";
}

<style>
    #map {
        width: 450px;
        height: 450px;
        /*position: fixed;*/        
    }
</style>

<h2></h2>
<div class="row">

    <div class="col-md-6">
        <table class="table">
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        @*<th>
                            Картинка
                        </th>*@
                        <th>
                            <h4 align="right">
                                <a href='@Url.Action("ApartmentInfo", "Apartment", new {id = item.ApartmentId}, null)'
                                   align="right" target="_blank" style="color:white;">
                                   <span style="color:black;">@item.Address</span>
                                </a>
                            </h4>
                            <h5 align="right">@item.Title</h5>
                            <h5 align="right">@item.CostPerNight   руб. за ночь</h5>
                        </th>

                    </tr>
                }
            </tbody>

        </table>
    </div>

    <div class="col-md-6">
        <div id="map"></div>       
    </div>

</div>

<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey=7e275473-1171-4b02-ba3c-847a5b5fe2a0" type="text/javascript"></script>

<script type="text/javascript">
    ymaps.ready(function () {
        var myMap = new ymaps.Map('map', {
            center: [55.751574, 37.573856],
            zoom: 9
        },
        {
            searchControlProvider: 'yandex#search'
        }),

            // Создаём макет содержимого.
            MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
                '<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'
            ),

            myPlacemark = new ymaps.Placemark(myMap.getCenter(), {
                hintContent: 'Собственный значок метки',
                balloonContent: 'Это красивая метка'
            }, {
                    // Опции.
                    // Необходимо указать данный тип макета.
                    iconLayout: 'default#image',
                    // Своё изображение иконки метки.
                    iconImageHref: 'asd.gif',
                    // Размеры метки.
                    iconImageSize: [30, 42],
                    // Смещение левого верхнего угла иконки относительно
                    // её "ножки" (точки привязки).
                    iconImageOffset: [-5, -38]
                }),

            myPlacemarkWithContent = new ymaps.Placemark([55.661574, 37.573856], {
                hintContent: 'Собственный значок метки с контентом',
                balloonContent: 'А эта — новогодняя',
                iconContent: 'ХУЙ'
            }, {
                    // Опции.
                    // Необходимо указать данный тип макета.
                    iconLayout: 'default#imageWithContent',
                    // Своё изображение иконки метки.
                    iconImageHref: 'asd.gif',
                    // Размеры метки.
                    iconImageSize: [48, 48],
                    // Смещение левого верхнего угла иконки относительно
                    // её "ножки" (точки привязки).
                    iconImageOffset: [-24, -24],
                    // Смещение слоя с содержимым относительно слоя с картинкой.
                    iconContentOffset: [15, 15],
                    // Макет содержимого.
                    iconContentLayout: MyIconContentLayout
                });

        myMap.geoObjects
            .add(myPlacemark)
            .add(myPlacemarkWithContent);
    });
</script>


